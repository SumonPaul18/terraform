# ЁЯЪА AWS Simple EC2 Instance тАУ Terraform Example

> тЪая╕П **ржПржЗ ржкрзНрж░ржХрж▓рзНржкржЯрж┐** рж╢рзБржзрзБржорж╛рждрзНрж░ **рж╢рзЗржЦрж╛рж░ ржЙржжрзНржжрзЗрж╢рзНржпрзЗ** рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЖржЧрзЗ **рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐**, **IAM ржкрж▓рж┐рж╕рж┐**, ржУ **рж╕рзНржЯрзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ** рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╕рзЗржЯржЖржк ржХрж░рзБржиред

---

## ЁЯОп ржЙржжрзНржжрзЗрж╢рзНржп (Objective)

ржПржЗ Terraform ржЙржжрж╛рж╣рж░ржгржЯрж┐ ржжрж┐ржпрж╝рзЗ ржЖржкржирж┐ рж╢рж┐ржЦржмрзЗржи:

- ржХрзАржнрж╛ржмрзЗ **Terraform** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **AWS EC2 instance** рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржпрж╝  
- ржХрзАржнрж╛ржмрзЗ **AWS Provider** ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝  
- ржХрзАржнрж╛ржмрзЗ **Variables** ржУ **Outputs** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЗржиржлрзНрж░рж╛рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ржХрзЗ ржбрж╛ржЗржирж╛ржорж┐ржХ ржХрж░рж╛ ржпрж╛ржпрж╝  
- ржХрзАржнрж╛ржмрзЗ **IAM credentials** рж╕рзБрж░ржХрзНрж╖рж┐рждржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝

---

## ЁЯУБ ржлрж╛ржЗрж▓ ржХрж╛ржарж╛ржорзЛ (File Structure)

```
examples/aws/simple-ec2/
тФЬтФАтФА provider.tf        # AWS Provider configuration
тФЬтФАтФА main.tf            # EC2 instance resource
тФЬтФАтФА variables.tf       # Input variables definition
тФЬтФАтФА outputs.tf         # Output values (e.g., public IP)
тФФтФАтФА terraform.tfvars.example  # Example variable values (rename it!)
```

> тЭЧ **ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг**: `terraform.tfstate`, `.terraform/`, ржмрж╛ ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ ржлрж╛ржЗрж▓ **ржХржЦржирзЛржЗ ржЧрж┐ржЯрзЗ ржХржорж┐ржЯ ржХрж░ржмрзЗржи ржирж╛!** ржПржЧрзБрж▓рзЛ `.gitignore` ржжрж┐ржпрж╝рзЗ ржмрж╛ржж ржжрж┐ржиред

---

## ЁЯЫа ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ рж╢рж░рзНрждрж╛ржмрж▓рзА (Prerequisites)

1. **AWS ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ** (Free Tier ржЪрж▓ржмрзЗ)
2. **IAM User** ржпрж╛рж░ ржХрж╛ржЫрзЗ ржЖржЫрзЗ:
   - `AmazonEC2FullAccess` (ржЕржержмрж╛ ржХрж╛рж╕рзНржЯржо ржкрж▓рж┐рж╕рж┐: `ec2:RunInstances`, `ec2:Describe*`, `ec2:TerminateInstances`)
3. **Terraform** ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ (`v1.5` ржмрж╛ рждрж╛рж░ ржЙржкрж░рзЗ)
   ```bash
   terraform -v
   ```
4. **Linux/macOS/WSL** ржмрж╛ **Git Bash** (Windows)

---

## ЁЯФС ржзрж╛ржк рзз: AWS ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ рж╕рзЗржЯржЖржк (Secure Method)

> тЭМ **ржХржЦржирзЛржЗ** `provider.tf` ржП `access_key` / `secret_key` рж╣рж╛рж░рзНржбржХрзЛржб ржХрж░ржмрзЗржи ржирж╛!

### тЬЕ рж╕рзБржкрж╛рж░рж┐рж╢ржХрзГржд ржкржжрзНржзрждрж┐: `~/.aws/credentials` (AWS CLI ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи)

1. **AWS CLI ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи** (ржпржжрж┐ ржирж╛ ржерж╛ржХрзЗ):
   ```bash
   curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
   unzip awscliv2.zip
   sudo ./aws/install
   ```

2. **ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзБржи**:
   ```bash
   aws configure
   ```
   - `AWS Access Key ID`: ржЖржкржирж╛рж░ IAM User-ржПрж░ Access Key
   - `AWS Secret Access Key`: рж╕рж┐ржХрзНрж░рзЗржЯ ржХрзА (рж╢рзБржзрзБ ржПржХржмрж╛рж░ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝!)
   - `Default region name`: `us-east-1` (ржЕржержмрж╛ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ рж░рж┐ржЬрж┐ржпрж╝ржи)
   - `Default output format`: `json`

тЬЕ ржПржЗ ржкржжрзНржзрждрж┐рждрзЗ Terraform рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ `~/.aws/credentials` ржерзЗржХрзЗ ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ ржирзЗржмрзЗред

---

## ЁЯУе ржзрж╛ржк рзи: рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐ ржХрзНрж▓рзЛржи ржУ ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк

```bash
# 1. рж░рж┐ржкрзЛржЬрж┐ржЯрж░рж┐ ржХрзНрж▓рзЛржи ржХрж░рзБржи
git clone https://github.com/SumonPaul18/terraform.git
cd terraform/examples/aws/simple-ec2

# 2. ржЙржжрж╛рж╣рж░ржг ржнрзНржпрж╛рж░рж┐ржпрж╝рзЗржмрж▓ ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░рзБржи
cp terraform.tfvars.example terraform.tfvars

# 3. ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржЖржкржирж╛рж░ ржорж╛ржи ржжрж┐ржи (ржпрзЗржоржи AMI, instance type)
nano terraform.tfvars
```

### ЁЯУЭ `terraform.tfvars` ржПрж░ ржЙржжрж╛рж╣рж░ржг:
```hcl
region         = "us-east-1"
ami_id         = "ami-0ecb62995f68bb549"  # Ubuntu 22.04 LTS (us-east-1)
instance_type  = "t2.micro"
instance_name  = "My-Terraform-EC2"
```

> ЁЯТб AMI ID ржЖржкржирж╛рж░ рж░рж┐ржЬрж┐ржпрж╝ржирзЗрж░ ржЬржирзНржп ржарж┐ржХ рж░рж╛ржЦрзБржиред [AWS AMI Finder](https://cloud-images.ubuntu.com/locator/ec2/) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред

---

## ЁЯз▒ ржзрж╛ржк рзй: Terraform ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржУ ржкрзНрж▓рзНржпрж╛ржи

```bash
# 1. Provider plugin ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи
terraform init

# 2. ржжрзЗржЦрзБржи ржХрзА рждрзИрж░рж┐ рж╣ржмрзЗ (ржХрзЛржирзЛ ржмрж╛рж╕рзНрждржм ржкрж░рж┐ржмрж░рзНрждржи рж╣ржмрзЗ ржирж╛)
terraform plan
```

тЬЕ ржкрзНрж▓рзНржпрж╛ржи ржЖржЙржЯржкрзБржЯрзЗ ржжрзЗржЦрзБржи: **+ create aws_instance.web_server**

---

## тЦ╢я╕П ржзрж╛ржк рзк: ржЗржиржлрзНрж░рж╛рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржбрж┐ржкрзНрж▓ржпрж╝ ржХрж░рзБржи

```bash
# 3. ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рзБржи (apply)
terraform apply
```

> ЁЯУМ ржкрзНрж░ржорзНржкржЯрзЗ **`yes`** ржЯрж╛ржЗржк ржХрж░рзБржиред

---

## ЁЯОЙ ржЖржЙржЯржкрзБржЯ (After Apply)

```
Apply complete! Resources: 1 added, 0 changed, 0 destroyed.

Outputs:

instance_id = "i-07fe4e2908092501e"
instance_public_ip = "3.94.110.156"
```

> ЁЯФЧ ржПржЦржи ржЖржкржирж┐ **SSH** ржжрж┐ржпрж╝рзЗ EC2-ржП рж▓ржЧржЗржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи (ржпржжрж┐ keypair рж╕рзЗржЯ ржХрж░рзЗ ржерж╛ржХрзЗржи)ред  
> ржмрж░рзНрждржорж╛ржи ржХрзЛржбрзЗ **keypair ржирзЗржЗ**, рждрж╛ржЗ рж╢рзБржзрзБ **public IP** ржжрзЗржЦрж╛ ржпрж╛ржмрзЗред

---

## ЁЯз╣ ржзрж╛ржк рзл: рж░рж┐рж╕рзЛрж░рзНрж╕ ржХрзНрж▓рж┐ржиржЖржк (ржРржЪрзНржЫрж┐ржХ)

```bash
# рж╕ржм рж░рж┐рж╕рзЛрж░рзНрж╕ ржорзБржЫрзЗ ржлрзЗрж▓рзБржи
terraform destroy
```

> тЪая╕П ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ `destroy` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЖржЧрзЗ ржирж┐рж╢рзНржЪрж┐ржд рж╣рзЛржи!

---

## ЁЯФН ржлрж╛ржЗрж▓ ржмрзНржпрж╛ржЦрзНржпрж╛ (Per File Overview)

### ЁЯУД `provider.tf`
```hcl
provider "aws" {
  region = "us-east-1"
}
```
- **ржХрж╛ржЬ**: Terraform ржХрзЗ ржмрж▓рзЗ AWS ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржПржмржВ ржХрзЛржи рж░рж┐ржЬрж┐ржпрж╝ржирзЗ ржХрж╛ржЬ ржХрж░рждрзЗ рж╣ржмрзЗред
- **ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓**: рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ `~/.aws/credentials` ржерзЗржХрзЗ ржирзЗржпрж╝ред

### ЁЯУД `main.tf`
```hcl
resource "aws_instance" "web_server" {
  ami           = var.ami_id
  instance_type = var.instance_type
  tags = {
    Name = var.instance_name
  }
}
```
- **ржХрж╛ржЬ**: ржПржХржЯрж┐ EC2 instance рждрзИрж░рж┐ ржХрж░рзЗред

### ЁЯУД `variables.tf`
- `region`, `ami_id`, `instance_type`, `instance_name`тАФрж╕ржмржЧрзБрж▓рзЛрж░ ржбрж┐ржлрж▓рзНржЯ ржорж╛ржи ржЖржЫрзЗред
- ржЖржкржирж┐ `terraform.tfvars` ржжрж┐ржпрж╝рзЗ ржУржнрж╛рж░рж░рж╛ржЗржб ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

### ЁЯУД `outputs.tf`
- `instance_public_ip` ржУ `instance_id` ржЖржЙржЯржкрзБржЯ ржХрж░рзЗред

---

## тЪая╕П рж╕рждрж░рзНржХрждрж╛ ржУ ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕

| ржмрж┐рж╖ржпрж╝ | ржмрзНржпрж╛ржЦрзНржпрж╛ |
|------|--------|
| ЁЯФТ **ржХрзНрж░рзЗржбрзЗржирж╢рж┐ржпрж╝рж╛рж▓ ржЧрзЛржкржи рж░рж╛ржЦрзБржи** | `.gitignore` ржП `*.tfvars`, `*.tfstate` ржпрзЛржЧ ржХрж░рзБржи |
| ЁЯТ░ **ржЦрж░ржЪ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг** | `t2.micro` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи, ржХрж╛ржЬ рж╢рзЗрж╖рзЗ `destroy` ржХрж░рзБржи |
| ЁЯМН **рж░рж┐ржЬрж┐ржпрж╝ржи ржЪржпрж╝ржи** | AMI ID ржЖржкржирж╛рж░ рж░рж┐ржЬрж┐ржпрж╝ржирзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓рждрзЗ рж╣ржмрзЗ |
| ЁЯУВ **State ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ** | ржЯрж┐ржо ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ **S3 + DynamoDB** remote backend ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи |

---

## ЁЯУЪ ржкрж░ржмрж░рзНрждрзА ржкржжржХрзНрж╖рзЗржк

- [ ] EC2-ржП **SSH keypair** ржпрзЛржЧ ржХрж░рзБржи
- [ ] **Security Group** ржХрж╛рж╕рзНржЯржорж╛ржЗржЬ ржХрж░рзБржи
- [ ] **VPC**, **Subnet** ржпрзЛржЧ ржХрж░рзБржи (ржжрзЗржЦрзБржи `terraform/examples/aws/custom-vpc`)
- [ ] **GitHub Actions** ржжрж┐ржпрж╝рзЗ CI/CD рж╕рзЗржЯржЖржк ржХрж░рзБржи

---

> ЁЯЩМ **рж╕рж╛рж╣рж╛ржпрзНржп рж▓рж╛ржЧрж▓рзЗ**?  
> ржЗрж╕рзНржпрзБ ржЦрзБрж▓рзБржи: [GitHub Issues](https://github.com/SumonPaul18/terraform/issues)  
> ржЖржорж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓: [Sumon Paul тАУ LinkedIn](https://www.linkedin.com/in/sumonpaul/) | [Portfolio](https://skpaul.netlify.app/)

---

тЬЕ **Happy Terraforming!** ЁЯМНтЬи
